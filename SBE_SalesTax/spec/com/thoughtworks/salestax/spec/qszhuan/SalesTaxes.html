<html xmlns:concordion="http://www.concordion.org/2007/concordion">
<head>
    <link href="../concordion.css" rel="stylesheet" type="text/css"/>
    <title>SalesTax Definition</title>
</head>

<body>

<div class="example">
    <h3>Sales Taxes</h3>
    <p >Given I buy following Goods:
    <span concordion:execute="initCart()" />
    <table concordion:execute="#result=createGoods(#goodsName,#goodsType,#goodsPrice)">
        <tr>
            <th concordion:set="#goodsName">Good Name</th>
            <th concordion:set="#goodsType">Good Type</th>
            <th concordion:set="#goodsPrice">Price</th>
            <th><a href="#basic_tax">Basic Tax</a></th>
            <th><a href="#import_tax">Import Rate</a></th>
            <th concordion:assertEquals="#result.tax"><a href="#round_rule">Tax Duty after round</a></th>
            <th concordion:assertEquals="#result.shelfPrice">Shelf Price</th>
        </tr>
        <tr>
            <td>The Talent Code</td>
            <td>Book</td>
            <td>12.49</td>
            <td>0</td>
            <td>0</td>
            <td>0.00</td>
            <td>12.49</td>
        </tr>
        <tr>
            <td>1 music CD</td>
            <td>Others</td>
            <td>14.99</td>
            <td>10%</td>
            <td>0</td>
            <td>1.50</td>
            <td>16.49</td>
        </tr>
        <tr>
            <td>1 chocolate bar</td>
            <td>Food</td>
            <td>0.85</td>
            <td>0</td>
            <td>0</td>
            <td>0.00</td>
            <td>0.85</td>
        </tr>
    </table>
    The Total Tax should be : <B concordion:assertEquals="getTotalTax()">1.50</B>.
    The Total Amount should be :<B concordion:assertEquals="getTotalPrice()">29.83 </B>
    </p>
    <p concordion:execute="initCart()">Given I buy following Goods:
    <table concordion:execute="#result=createGoods(#goodsName,#goodsType,#goodsPrice)">
        <tr>
            <th concordion:set="#goodsName">Good Name</th>
            <th concordion:set="#goodsType">Good Type</th>
            <th concordion:set="#goodsPrice">Price</th>
            <th><a href="#basic_tax">Basic Tax</a></th>
            <th><a href="#import_tax">Import Rate</a></th>
            <th concordion:assertEquals="#result.tax"><a href="#round_rule">Tax Duty after round</a></th>
            <th concordion:assertEquals="#result.shelfPrice">Shelf Price</th>
        </tr>
        <tr>
            <td>1 imported box of chocolates</td>
            <td>Food</td>
            <td>10.00</td>
            <td>0</td>
            <td>5%</td>
            <td>0.50</td>
            <td>10.50</td>
        </tr>
        <tr>
            <td>1 imported bottle of perfume</td>
            <td>Others</td>
            <td>47.50</td>
            <td>10%</td>
            <td>5%</td>
            <td>7.15</td>
            <td>54.65</td>
        </tr>
    </table>
    The Total Tax should be : <B concordion:assertEquals="getTotalTax()">7.65</B>.
    The Total Amount should be :<B concordion:assertEquals="getTotalPrice()">65.15 </B>
    </p>
    <p concordion:execute="initCart()">Given I buy following Goods:
    <table concordion:execute="#result=createGoods(#goodsName,#goodsType,#goodsPrice)">
        <tr>
            <th concordion:set="#goodsName">Good Name</th>
            <th concordion:set="#goodsType">Good Type</th>
            <th concordion:set="#goodsPrice">Price</th>
            <th><a href="#basic_tax">Basic Tax</a></th>
            <th><a href="#import_tax">Import Rate</a></th>
            <th concordion:assertEquals="#result.tax"><a href="#round_rule">Tax Duty after round</a></th>
            <th concordion:assertEquals="#result.shelfPrice">Shelf Price</th>
        </tr>
        <tr>
            <td>1 imported bottle of perfume</td>
            <td>Others</td>
            <td>27.99</td>
            <td>10%</td>
            <td>5%</td>
            <td>4.20</td>
            <td>32.19</td>
        </tr>
        <tr>
            <td>1 bottle of perfume</td>
            <td>Others</td>
            <td>18.99</td>
            <td>10%</td>
            <td>0</td>
            <td>1.90</td>
            <td>20.89</td>
        </tr>
        <tr>
            <td>1 packet of headache pills</td>
            <td>Medical</td>
            <td>9.75</td>
            <td>0</td>
            <td>0</td>
            <td>0.00</td>
            <td>9.75</td>
        </tr>
        <tr class="table_row_color_yellow">
            <td>2 box of imported chocolates</td>
            <td>Food</td>
            <td>11.25</td>
            <td>0</td>
            <td>5%</td>
            <td>0.60</td>
            <td>11.85</td>
        </tr>
    </table>
    The Total Tax should be : <B concordion:assertEquals="getTotalTax()">6.70</B>.
    The Total Amount should be :<B concordion:assertEquals="getTotalPrice()">74.68</B>
    </p>
</div>


</body>
</html>